(()=>{"use strict";var t={508:(t,e,l)=>{var n=l(756),r=l(641);const a={id:"app"};function s(t,e,l,n,s,o){const i=(0,r.g2)("CallControls"),u=(0,r.g2)("CallLog"),c=(0,r.g2)("CallSummary");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(i,{onMakeCall:o.makeCall,onEndCall:o.endCall},null,8,["onMakeCall","onEndCall"]),(0,r.bF)(u,{callHistory:s.callHistory},null,8,["callHistory"]),(0,r.bF)(c,{callStatus:s.callStatus},null,8,["callStatus"])])}var o=l(751);function i(t,e,l,n,a,s){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.phoneNumber=t),placeholder:"Enter phone number"},null,512),[[o.Jo,a.phoneNumber]]),(0,r.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>s.handleMakeCall&&s.handleMakeCall(...t))},"Call"),(0,r.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>s.handleEndCall&&s.handleEndCall(...t))},"End Call")])}const u={data(){return{phoneNumber:""}},methods:{handleMakeCall(){this.$emit("makeCall",this.phoneNumber)},handleEndCall(){this.$emit("endCall")}}};var c=l(262);const d=(0,c.A)(u,[["render",i]]),p=d;var h=l(33);function v(t,e,l,n,a,s){return(0,r.uX)(),(0,r.CE)("div",null,[e[0]||(e[0]=(0,r.Lk)("h2",null,"Call Log",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.callHistory,((t,e)=>((0,r.uX)(),(0,r.CE)("li",{key:e},(0,h.v_)(t.number)+" - "+(0,h.v_)(t.status),1)))),128))])])}const C={props:{callHistory:Array}},m=(0,c.A)(C,[["render",v]]),f=m;function b(t,e,l,n,a,s){return(0,r.uX)(),(0,r.CE)("div",null,[e[0]||(e[0]=(0,r.Lk)("h2",null,"Call Status",-1)),(0,r.Lk)("p",null,(0,h.v_)(l.callStatus),1)])}const g={props:{callStatus:String}},k=(0,c.A)(g,[["render",b]]),y=k;var S=l(305);const E={components:{CallControls:p,CallLog:f,CallSummary:y},data(){return{callHistory:[],callStatus:"",sipUserAgent:null}},methods:{initSIP(){this.sipUserAgent=new S["default"].UserAgent({uri:"sip:101@sip.xtrevo.com",transportOptions:{wsServers:["wss://sip.xtrevo.com:8443/asterisk-wss"]},authorizationUser:"101",password:"severalleddepend8912@@"}),this.sipUserAgent.start().catch((t=>{console.error("Failed to start SIP User Agent:",t)}))},makeCall(t){const e=this.sipUserAgent.invite(`sip:${t}@sip.xtrevo.com`);e.on("accepted",(()=>{this.callStatus="In Progress",this.callHistory.push({number:t,status:"In Progress"})})),e.on("terminated",(()=>{this.callStatus="Ended",this.callHistory.push({number:t,status:"Ended"})}))},endCall(){this.sipUserAgent&&this.sipUserAgent.activeSession&&this.sipUserAgent.activeSession.bye()}},mounted(){this.initSIP()}},w=(0,c.A)(E,[["render",s]]),A=w;n["default"].config.productionTip=!1,new n["default"]({render:t=>t(A)}).$mount("#app")}},e={};function l(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,l),a.exports}l.m=t,(()=>{var t=[];l.O=(e,n,r,a)=>{if(!n){var s=1/0;for(c=0;c<t.length;c++){for(var[n,r,a]=t[c],o=!0,i=0;i<n.length;i++)(!1&a||s>=a)&&Object.keys(l.O).every((t=>l.O[t](n[i])))?n.splice(i--,1):(o=!1,a<s&&(s=a));if(o){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,r,a]}})(),(()=>{l.d=(t,e)=>{for(var n in e)l.o(e,n)&&!l.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}})(),(()=>{l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{l.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={524:0};l.O.j=e=>0===t[e];var e=(e,n)=>{var r,a,[s,o,i]=n,u=0;if(s.some((e=>0!==t[e]))){for(r in o)l.o(o,r)&&(l.m[r]=o[r]);if(i)var c=i(l)}for(e&&e(n);u<s.length;u++)a=s[u],l.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return l.O(c)},n=self["webpackChunkomar004"]=self["webpackChunkomar004"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var n=l.O(void 0,[504],(()=>l(508)));n=l.O(n)})();
//# sourceMappingURL=app.688b4323.js.map